<!DOCTYPE html>
<html>

    <head>
	<meta charset="utf-8"/>
	 <meta name="format-detection" content="telephone=no" />
	 <meta name="msapplication-tap-highlight" content="no" />
	 <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, target-densitydpi=device-dpi">
     <link rel="stylesheet" type="text/css" href="css/styles.css">
	 <script src="js/jquery-2.1.1.min.js"></script>
     <title>DCMTest</title>
        
	</head>
    <body>
        
				

            <h1>DCM</h1>
      
  
        <div id="app">
	   	   <img src="" id="myImage" width="80"></img> </br>
			<div id="locatie"></div>
			<span id="battery"></span>
				
			<div id="deviceready">
			<p class="event listening">Loading</p>
			<p class="event received">Apparaat is klaar</p>
			<p id="info"></p>			
			</div>
   
   
        </div>
  
       <footer>
	 <ul id="tab-bar">
    <li>
       <button id="geolocation" onclick="waarBenIk();">Locatie</button>
    </li>
 
    <li>
        <button id="cameraAanZett" onclick="maakFoto();">Camera</button>
    </li>
 
    <li>
       <button id="tostel" onclick="toestelInfo();">Toestel informatie</button>
    </li>
    </ul>

     
      </footer>
<script type="text/javascript" src="PhoneGap.js"></script>
 <script src="js/cameraAan.js"></script>
<script>
  function waarBenIk() {

                navigator.geolocation.getCurrentPosition(success, error);
            }
             
            function success(position) {
			
                var element = document.getElementById('locatie');
                element.innerHTML = 'Latitude: ' + position.coords.latitude     + '<br />' +
                'Longitude: '           + position.coords.longitude             + '<br />' +
                'Altitude: '            + position.coords.altitude              + '<br />' +
                'Accuracy: '            + position.coords.accuracy              + '<br />' +
                'Altitude Accuracy: '   + position.coords.altitudeAccuracy      + '<br />' +
                'Heading: '             + position.coords.heading               + '<br />' +
                'Speed: '               + position.coords.speed                 + '<br />' +
                'Timestamp: '           + new Date(position.timestamp)          + '<br />';
            }
             
            function error(error) {
                alert(error.message);
            }

 function  toestelInfo() {

	document.addEventListener("deviceready", onDeviceReady, false);
	document.addEventListener("batterystatus", onBatteryStatus, false);
	function onDeviceReady() {
		var parentElement = document.getElementById("deviceready");
		var listeningElement = parentElement.querySelector('.eventlistening');
		var receivedElement = parentElement.querySelector('.eventreceived');
		
		listeningElement.setAttribute('style', 'display:none;');
		receivedElement.setAttribute('style', 'display:block;');
		
		$("#info").html('Applicatie Versie: '+device.cordova+'<br/>');
		$("#info").append('Toestel model: '+device.model+'<br/>');
		$("#info").append('Besturing systeem: '+device.platform+' '+ device.version+'<br/>');
		
	
	}
	function onBatteryStatus(info) {
		
		$("#battery").html('Level: ' +info.level + '<br/> isPlugged: ' + info.isPlugged);
		
	
	}
}
function maakFoto() {

	navigator.camera.getPicture(onSuccess, onFail, { quality: 50});
	function onSuccess(imageData) {
		var image = document.getElementById('myImage');
		image.src = "data:image/jpg;base64," + imageData;
		console.log("image updated");
			}
	function onFail(message) {
		
		console.log('Error omdat: ' + message);
			}
			
	}
	
	
</script>
    </body>
</html>

